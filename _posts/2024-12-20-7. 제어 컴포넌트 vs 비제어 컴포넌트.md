---
layout: post
title: "7. ì œì–´ ì»´í¬ë„ŒíŠ¸ vs ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸"
categories: ["React", "Form"]
tags: ["ì œì–´ ì»´í¬ë„ŒíŠ¸", "ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸"]

---
ì œì–´ ì»´í¬ë„ŒíŠ¸ì™€ ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ëŠ” Reactì—ì„œ í¼ ë°ì´í„°ë¥¼ ë‹¤ë£¨ëŠ” ë‘ ê°€ì§€ ì£¼ìš” ì ‘ê·¼ ë°©ì‹ì…ë‹ˆë‹¤. 

## ì œì–´ ì»´í¬ë„ŒíŠ¸

Reactì˜ stateë¡œ í¼ ìš”ì†Œë“¤ì„ ì»¨íŠ¸ë¡¤í•©ë‹ˆë‹¤. ëª¨ë“  ìƒíƒœë³€ê²½ì€ `setState` ë©”ì„œë“œë¥¼ í†µí•´ ì´ë£¨ì–´ì§€ë©°, í‚¤ ì…ë ¥ë§ˆë‹¤ ìœ íš¨ì„± ê²€ì‚¬ê°€ ê°€ëŠ¥í•˜ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•œ ìƒíƒœê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤. ë˜í•œ SSOTë¥¼ ì¤€ìˆ˜í•©ë‹ˆë‹¤.

> [**SSOT](https://chancethecoder.tistory.com/45)(Single Source Of Truth, ë‹¨ì¼ ì§„ì‹¤ ê³µê¸‰ì›) : í•˜ë‚˜ì˜ ìƒíƒœëŠ” í•œ ê³³ì—ë§Œ ì¡´ì¬í•´ì•¼ í•œë‹¤**
> 

```tsx
import { useState } from 'react';

export default function ControlledForm() {
  const [inputValue, setInputValue] = useState('');
  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    setInputValue(e.target.value);
    console.log({ inputValue: e.target.value }); // í‚¤ ì…ë ¥ ì‹œë§ˆë‹¤ ìœ íš¨ì„± ê²€ì‚¬ ê°€ëŠ¥ -> ë²„íŠ¼ disabledì— ë°˜ì˜ ê°€ëŠ¥
  };
  const onControlledSubmit = (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    console.log('ControlledFormì´ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤.', { ë°ì´í„°: inputValue });
  };

  return (
    <form onSubmit={onControlledSubmit}>
      <h2>ControlledForm</h2>
      <input value={inputValue} onChange={onChange} />
      <button disabled={inputValue.length < 5}>ì œì¶œ</button>
    </form>
  );
}

```

## ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸

DOM ìì²´ì—ì„œ í¼ ìš”ì†Œë“¤ì„ ì»¨íŠ¸ë¡¤í•©ë‹ˆë‹¤.  React stateê°€ ì•„ë‹Œ refë¥¼ ì‚¬ìš©í•˜ì—¬ DOMì—ì„œ ì§ì ‘ í¼ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. ìˆœìˆ˜ HTMLì—ì„œë„ ë”°ë¡œ ìƒíƒœ ê´€ë¦¬ ì—†ì´ í¼ ë°ì´í„° ì œì¶œì´ ê°€ëŠ¥í•˜ì–ì•„ìš”? ê·¸ê²ƒì„ ìƒê°í•˜ì‹œë©´ ì‰½ê²Œ ì´í•´ë˜ì‹¤ ê±°ì—ìš”. êµ¬í˜„ì´ ë‹¨ìˆœí•˜ì—¬ ì½”ë“œëŸ‰ì´ ê°ì†Œí•œë‹¤ëŠ” ì¥ì ì´ ìˆìœ¼ë©°, useRefëŠ” ë¦¬ë Œë”ë§ì„ ë°˜ì˜í•˜ì§€ ì•Šì•„ í‚¤ ì…ë ¥ë§ˆë‹¤ì˜ ìœ íš¨ì„± ê²€ì‚¬ëŠ” ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ë‹¨ì ë„ ì¡´ì¬í•©ë‹ˆë‹¤.

**react-hook-formì€ ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ë¥¼ í™œìš©í•˜ëŠ” ëŒ€í‘œì ì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.**

```jsx
import { useRef } from 'react';

export default function UncontrolledForm() {
  const formRef = useRef<HTMLFormElement>(null);
  const onUncontrolledSubmit = (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    const formData = new FormData(e.currentTarget);
    console.log('UncontrolledFormì´ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤.', {
      ë°ì´í„°: formData.get('data'),
    });
  };

  return (
    <form ref={formRef} onSubmit={onUncontrolledSubmit}>
      <h2>UncontrolledForm</h2>
      <input name='data' />
      <button>ì œì¶œ</button>
    </form>
  );
}

```

## ì‹œì—°

![Vite + React + TS - Chrome 2024-12-20 12-45-43.gif](../assets/img/2024-12-20-7.%20ì œì–´%20ì»´í¬ë„ŒíŠ¸%20vs%20ë¹„ì œì–´%20ì»´í¬ë„ŒíŠ¸/video.gif)

## í‘œë¡œ ì •ë¦¬í•˜ê¸°

| **íŠ¹ì„±**    | **ì œì–´ ì»´í¬ë„ŒíŠ¸** | **ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸** |
| ----------- | ----------------- | ------------------- |
| ìƒíƒœ ê´€ë¦¬   | React state       | DOM                 |
| ìœ íš¨ì„± ê²€ì‚¬ | ì‹¤ì‹œê°„ ê°€ëŠ¥       | ì œí•œì               |
| êµ¬í˜„ ë³µì¡ë„ | ë³µì¡              | ë‹¨ìˆœ                |
| ì½”ë“œëŸ‰      | ë§ìŒ              | ì ìŒ                |
| SSOT ì¤€ìˆ˜   | O                 | X                   |

ì´ë¯¸ ì•Œê³  ìˆë˜ ë‘ ê°€ì§€ ë°©ì‹ì´ 'ì œì–´ ì»´í¬ë„ŒíŠ¸'ì™€ 'ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸'ë¼ê³  ë¶ˆë¦°ë‹¤ëŠ” ê²ƒì„ í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ íŠ¹ê°•ì„ í†µí•´ ì•Œê²Œ ë˜ì–´ ì´ì— ëŒ€í•´ ì‘ì„±í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤ğŸ˜„

## ì°¸ê³ 

[React: ì œì–´ ì»´í¬ë„ŒíŠ¸ì™€ ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸ì˜ ì°¨ì´ì ](https://velog.io/@yukyung/React-%EC%A0%9C%EC%96%B4-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EC%99%80-%EB%B9%84%EC%A0%9C%EC%96%B4-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EC%9D%98-%EC%B0%A8%EC%9D%B4%EC%A0%90-%ED%86%BA%EC%95%84%EB%B3%B4%EA%B8%B0)

[React ê³µì‹ ë¬¸ì„œ](https://ko.legacy.reactjs.org/docs/uncontrolled-components.html)