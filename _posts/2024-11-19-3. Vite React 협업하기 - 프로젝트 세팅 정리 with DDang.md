í•­ìƒ `Vite React Typescript styled-component` í”„ë¡œì íŠ¸ ì„¸íŒ…í•  ë•Œë§ˆë‹¤ ìì£¼ ì‚¬ìš©í•˜ëŠ” ì„¸íŒ…ë“¤ì€ ì–´ë”˜ê°€ ì •ë¦¬í•´ë‘ë©´ ì¢‹ê² ë‹¤ ì‹¶ì–´ì„œ ì •ë¦¬ë¥¼ í•˜ë ¤ê³  í•©ë‹ˆë‹¤! ë…¸ì…˜ì— ìˆì§€ë§Œ í©ì–´ì ¸ ìˆì–´ì„œ ì´ë²ˆ ê¸°íšŒì— ë¸”ë¡œê·¸ì— ëª¨ì•„ì„œ í•œ ë²ˆ ë” ì •ë¦¬í•˜ë ¤ê³  í•©ë‹ˆë‹¤. IDEëŠ” vscode ê¸°ì¤€ì…ë‹ˆë‹¤! ì´ ê¸€ì„ ì½ê³  ë”°ë¼í•´ë³´ì‹œê¸°ë§Œ í•´ë„ í˜‘ì—…ì´ë‚˜ ì—…ë¬´ íš¨ìœ¨ì— ìˆì–´ì„œ í° ë„ì›€ì´ ë  ê±°ì—ìš” ğŸ˜ƒ

# Vite ê°œë°œí™˜ê²½ ì„¸íŒ…
---
ì¼ë°˜ : `npm create vite@latest .`

PWA : `npm create @vite-pwa/pwa@latest`

ì„¤ì¹˜ ì´í›„ React App ì´ˆê¸°í™”ëŠ” ë„˜ì–´ê°€ê² ìŠµë‹ˆë‹¤.

## ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
---
ì œê°€ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì…ë‹ˆë‹¤. í•„ìš”í•˜ì‹  ê²ƒë“¤ì„ ì­‰ ì •ë¦¬í•˜ì‹œê³  ì„¤ì¹˜í•´ì£¼ì„¸ìš”!

ì´ˆê¸° ì„¸íŒ…ì—ì„œëŠ” ì „ì—­ ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬, ìŠ¤íƒ€ì¼ë§ íˆ´, Fetching ë¼ì´ë¸ŒëŸ¬ë¦¬, ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ 4ê°œë¥¼ ì„¸íŒ…í•´ì£¼ë©´ ì¶©ë¶„í•œ ê²ƒ ê°™ìŠµë‹ˆë‹¤ ğŸ˜„

1. zustand
2. styled-components
3. react-query
4. react-icons

## .vscode í´ë”
---
1. í”„ë¡œì íŠ¸ ë‚´ì—ì„œ íŒ€ì›ë“¤ê³¼ settings.json ê³µìœ í•˜ê¸°

   .vscode/settings.json ìƒì„±

   ![image.png](../assets/img/2024-11-19-3.%20Vite%20React%20í˜‘ì—…í•˜ê¸°%20-%20í”„ë¡œì íŠ¸%20ì„¸íŒ…%20ì •ë¦¬%20with%20DDang/settings.json.png)

   ë§ì§€ëŠ” ì•Šì§€ë§Œ, ì €ëŠ” ì£¼ë¡œ ì•„ë˜ ì„¤ì •ë“¤ì€ í•­ìƒ ë„£ì–´ë‘ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.

   ```json
   {
     "editor.defaultFormatter": "esbenp.prettier-vscode",
     "editor.formatOnSave": true,
     "typescript.preferences.importModuleSpecifier": "non-relative"
   }
   ```

   - typescript.preferences.importModuleSpecifier : ìë™ìœ¼ë¡œ ì ˆëŒ€ê²½ë¡œë¡œ importí•©ë‹ˆë‹¤.

2. íŒ€ì›ë“¤ê³¼ ìŠ¤ë‹ˆí« ê³µìœ í•˜ê¸°

   `.vscode/typescript.code-snippets` : .tsíŒŒì¼ ìŠ¤ë‹ˆí«

   `.vscode/typescriptreact.code-snippets` : .tsxíŒŒì¼ ìŠ¤ë‹ˆí«

   íŒ€ì›ë“¤ê³¼ ì»¨ë²¤ì…˜ì„ ë§ì¶˜ í›„, í•´ë‹¹ ì»¨ë²¤ì…˜ì— ë§ëŠ” ìŠ¤ë‹ˆí«ì„ ê³µìœ í•˜ê²Œ ë˜ë©´ í° ì¥ì ì´ ìˆìŠµë‹ˆë‹¤. ë§ì„¤ì´ì§€ ì•Šê³  íŒŒì¼ ë§Œë“¤ê³  ë°”ë¡œë°”ë¡œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ì£ . ì´ ê¸€ì„ ë³´ì‹œê²Œ ëœë‹¤ë©´ ê¼­ ì ìš©í•´ë³´ì„¸ìš”. í˜¼ìí•˜ëŠ” í”„ë¡œì íŠ¸ë”ë¼ë„ ì‘ì—… íš¨ìœ¨ì´ ì—„ì²­ë‚˜ê²Œ ì˜¬ë¼ê°‘ë‹ˆë‹¤. ì œ ìŠ¤ë‹ˆí«ì„ ê³µìœ í•´ ë“œë¦´ê²Œìš”. (ì»´í¬ë„ŒíŠ¸ í´ë” êµ¬ì¡°ê°€ Component/index.tsx, Component/styles.tsì¸ ê²½ìš° ì•Œë§ê²Œ ë™ì‘í•©ë‹ˆë‹¤. ì°¸ê³ ë¡œ Macì—ì„œëŠ” `${1:${TM_DIRECTORY/^.+\\\\(.*)$/$1/}}`ë¥¼ `${1:${TM_DIRECTORY/.*\\/(.*)$/$1/}})` ìœ¼ë¡œ ë°”ê¾¸ì–´ì£¼ì–´ì•¼ ì •ìƒë™ì‘í•©ë‹ˆë‹¤. ë¶€ëª¨ í´ë”ëª…ì´ ì•„ë‹ˆë¼ íŒŒì¼ëª…ìœ¼ë¡œ í•˜ë ¤ë©´ TM_FILENAME_BASEë¡œ í•˜ì‹œë©´ ë˜ê³ , â€˜$â€™ í‘œì‹œëŠ” ë‹¨ìˆœíˆ ì»¤ì„œì˜ ì´ë™ ìˆœì„œë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ìŠ¤ë‹ˆí« prefixë¥¼ ì…ë ¥í•˜ë©´ $1ë¡œ ì»¤ì„œê°€ ë§ì¶°ì§€ê³  íƒ­ì„ ëˆ„ë¥´ì‹œë©´ $2, $3, â€¦ ìˆœì„œë¡œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°œë°œì ì…ì¥ì—ì„œ ë§¤ìš° í¸ë¦¬í•˜ì£ .

   ```json
   {
     "Typescript React component with props": {
       "scope": "typescriptreact",
       "prefix": "rfc",
       "body": [
         "import * as S from './styles';",
         "",
         "type ${1:${TM_DIRECTORY/^.+\\\\(.*)$/$1/}}Props = {",
         "  $2: $3",
         "}",
         "",
         "export default function ${1:${TM_DIRECTORY/^.+\\\\(.*)$/$1/}}({ $2 }: ${1:${TM_DIRECTORY/^.+\\\\(.*)$/$1/}}Props ) {",
         "  return (",
         "    <S.${1:${TM_DIRECTORY/^.+\\\\(.*)$/$1/}} className=\"\">",
         "      ${4:${1:${TM_DIRECTORY/^.+\\\\(.*)$/$1/}}}",
         "    </S.${1:${TM_DIRECTORY/^.+\\\\(.*)$/$1/}}>",
         "  )",
         "}"
       ],
       "description": "Creates a React Functional Component"
     },
     "Typescript React component with no props": {
       "scope": "typescriptreact",
       "prefix": "rfcn",
       "body": [
         "import * as S from './styles';",
         "",
         "export default function ${1:${TM_DIRECTORY/^.+\\\\(.*)$/$1/}}() {",
         "  return (",
         "    <S.${1:${TM_DIRECTORY/^.+\\\\(.*)$/$1/}}>",
         "      ${2:${1:${TM_DIRECTORY/^.+\\\\(.*)$/$1/}}}",
         "    </S.${1:${TM_DIRECTORY/^.+\\\\(.*)$/$1/}}>",
         "  )",
         "}"
       ],
       "description": "Creates a React Functional Component"
     },
     "Typescript React component with props in Mac": {
       "scope": "typescriptreact",
       "prefix": "rfcmac",
       "body": [
         "import * as S from './styles';",
         "",
         "type ${1:${TM_DIRECTORY/.*\\/(.*)$/$1/}}Props = {",
         "  $2: $3",
         "}",
         "",
         "export default function ${1:${TM_DIRECTORY/.*\\/(.*)$/$1/}}({ $2 }: ${1:${TM_DIRECTORY/.*\\/(.*)$/$1/}}Props ) {",
         "  return (",
         "    <S.${1:${TM_DIRECTORY/.*\\/(.*)$/$1/}} className=\"\">",
         "      ${4:${1:${TM_DIRECTORY/.*\\/(.*)$/$1/}}}",
         "    </S.${1:${TM_DIRECTORY/.*\\/(.*)$/$1/}}>",
         "  )",
         "}"
       ],
       "description": "Creates a React Functional Component"
     },
     "Typescript React component with no props in Mac": {
       "scope": "typescriptreact",
       "prefix": "rfcnmac",
       "body": [
         "import * as S from './styles';",
         "",
         "export default function ${1:${TM_DIRECTORY/.*\\/(.*)$/$1/}}() {",
         "  return (",
         "    <S.${1:${TM_DIRECTORY/.*\\/(.*)$/$1/}}>",
         "      ${2:${1:${TM_DIRECTORY/.*\\/(.*)$/$1/}}}",
         "    </S.${1:${TM_DIRECTORY/.*\\/(.*)$/$1/}}>",
         "  )",
         "}"
       ],
       "description": "Creates a React Functional Component"
     }
   }
   ```

   ```json
   {
     "Typescript React Styled Components": {
       "scope": "typescript",
       "prefix": "sc",
       "body": [
         "import { styled } from 'styled-components'",
         "",
         "export const ${1:${TM_DIRECTORY/^.+\\\\(.*)$/$1/}} = styled.div`",
         " $2",
         "`;"
       ]
     },
     "Typescript React Styled Components in Mac": {
       "scope": "typescript",
       "prefix": "scmac",
       "body": [
         "import { styled } from 'styled-components'",
         "",
         "export const ${3:${TM_DIRECTORY/.*\\/(.*)$/$1/}} = styled.div`",
         " $2",
         "`;"
       ]
     }
   }
   ```

## ì ˆëŒ€ê²½ë¡œ ì„¤ì •
---
ê°œì¸ì ìœ¼ë¡œ ì ˆëŒ€ê²½ë¡œ ì„¤ì •ì€ í•„ìˆ˜ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. ì ˆëŒ€ê²½ë¡œ ì„¤ì •ì„ í•˜ì§€ ì•Šì„ ê²½ìš° í´ë”ì˜ depthê°€ ê¹Šì–´ì§€ë©´ `import Component from â€œ../../../../../components/Componentâ€`ì™€ ê°™ì€ ê¸°ê´´í•œ importë¬¸ì„ ë³´ì‹œê²Œ ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤ ğŸ˜ƒ

1. ì¼ë°˜ Viteë¡œ ì„¤ì¹˜í•˜ì…¨ë‹¤ë©´ `tsconfig.app.json`, PWAì˜ ê²½ìš° `tsconfig.json` íŒŒì¼ì„ ì—´ì–´ì£¼ì„¸ìš”. ì €ëŠ” ì²˜ìŒì— ì¼ë°˜ Viteë¡œ ì„¤ì¹˜í•˜ê³  tsconfig.jsonì— í–ˆë‹¤ê°€ ë­ê°€ ì˜ëª»ëœ ê²ƒì¸ì§€ ê°ë„ ì•ˆì¡í˜€ì„œ ì´í‹€ë™ì•ˆ ì ˆëŒ€ê²½ë¡œ ì„¤ì •ë§Œ ë¶™ì¡ê³  ìˆë˜ì ì´ ìˆì—ˆìŠµë‹ˆë‹¤. ì£¼ì˜í•´ì£¼ì„¸ìš”!
2. compilerOptionsì— í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°ì— ë§ì¶”ì–´ baseUrlê³¼ pathë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì…ë ¥í•´ì¤ë‹ˆë‹¤.

   ```
     "compilerOptions": {
       "baseUrl": "./src",
       "paths": {
         "@apis/*": ["apis/*"],
         "@assets/*": ["assets/*"],
         "@components/*": ["components/*"],
         "@constants/*": ["constants/*"],
         "@hooks/*": ["hooks/*"],
         "@modals/*": ["modals/*"],
         "@pages/*": ["pages/*"],
         "@stores/*": ["stores/*"],
         "@types/*": ["types/*"],
         "@utils/*": ["utils/*"],
         "@/*": ["*"]
       },
   	  // ...other options
   	 }
   ```

3. ì•„ì§ ì™„ë£Œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. `npm install vite-tsconfig-paths` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ [í”ŒëŸ¬ê·¸ì¸](https://www.npmjs.com/package/vite-plugin-mkcert)ì„ install í•´ì¤ë‹ˆë‹¤. í•´ë‹¹ í”ŒëŸ¬ê·¸ì¸ì€ vite.config.tsì˜ ê²½ë¡œ ì„¤ì •ì„ tsconfigì™€ ë˜‘ê°™ì´ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤. ê³ ë¡œ ìš°ë¦¬ëŠ” ê²½ë¡œ ì„¤ì •ì— ìˆì–´ì„œ tsconfigë§Œ ì‹ ê²½ì¨ì£¼ë©´ ë©ë‹ˆë‹¤. ì—„ì²­ í¸ë¦¬í•˜ì£ ? ë§Œì•½ ì´ í”ŒëŸ¬ê·¸ì¸ì´ ì—†ì—ˆë‹¤ë©´ ê²½ë¡œë¥¼ ìˆ˜ì •í•  ë•Œë§ˆë‹¤ `vite.config.ts`ì™€ `tsconfig.(app.)json` ì„ ë‘˜ ë‹¤ ìˆ˜ì •í•´ì¤˜ì•¼ í–ˆì„ ê±°ì—ìš”. í”ŒëŸ¬ê·¸ì¸ ì ìš© ë°©ë²•ì€ ì•„ë˜ [**Vite Plugin ì ìš©í•˜ê¸°**](https://www.notion.so/3-Vite-React-with-DDang-141de2152f938012a7c5c6ea43238833?pvs=21)ì— í¬í•¨ì‹œì¼œë’€ìŠµë‹ˆë‹¤!

## ê°œë°œí•  ë•Œ ìœ ìš©í•œ Vite Plugin ëª¨ìŒ
---
Viteì˜ ìœ ìš©í•œ í”ŒëŸ¬ê·¸ì¸ë“¤ì„ ì†Œê°œí•©ë‹ˆë‹¤. Viteì˜ í”ŒëŸ¬ê·¸ì¸ë“¤ì€ ëª¨ë‘ vite.config.tsì—ì„œ ì‚¬ìš©í•˜ì‹œë©´ ë˜ê³ , ëŒ€ë¶€ë¶„ ê°œë°œ ì˜ì¡´ì„±(`package.json`ì˜ `devDependencies`)ì— ë„£ì–´ì£¼ì…”ì•¼ í•©ë‹ˆë‹¤. í”„ë¡œë•ì…˜ ë²ˆë“¤ì— í¬í•¨ë˜ì§€ ì•Šê³  ê°œë°œ í™˜ê²½ì—ì„œë§Œ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

1. ë¡œì»¬ì—ì„œ ê°„ë‹¨í•˜ê²Œ HTTPS í†µì‹  - `vite-plugin-mkcert`
2. svg íŒŒì¼ ì»´í¬ë„ŒíŠ¸ë¡œ import í•˜ê¸° - `vite-plugin-svgr`, `vite-plugin-dts`

   svg íŒŒì¼ì„ ì»´í¬ë„ŒíŠ¸ë¡œ import í•  ìˆ˜ ìˆê²Œë©ë‹ˆë‹¤. ë‹¤ë§Œ svg.d.ts íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ ë‹¤ìŒ ì½”ë“œë¥¼ ë„£ì–´ì£¼ì…”ì•¼ í•˜ê³ , svgíŒŒì¼ import ê²½ë¡œ ê°€ì¥ ìš°ì¸¡ì— ?reactë¥¼ ë¶™ì—¬ì£¼ì…”ì•¼ í•©ë‹ˆë‹¤.

   ```
   //svg.d.ts
   declare module '*.svg?react' {
     import { FunctionComponent, SVGAttributes } from 'react'
     const content: FunctionComponent<SVGAttributes<SVGElement>>
     export default content
   }
   ```

   ```tsx
   //App.tsx
   import Test from '@assets/test.svg?react';

   export default function App() {
     return (
       <>
         <Test />
       </>
     );
   }
   ```

## Vite Plugin ì ìš©í•˜ê¸°
---
ëª¨ë‘ ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœë¡œ importí•˜ì…”ì„œ ì ìš©í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

```tsx
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import tsconfigPaths from 'vite-tsconfig-paths';
import mkcert from 'vite-plugin-mkcert';
import svgr from 'vite-plugin-svgr';
import dts from 'vite-plugin-dts';

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react(), tsconfigPaths(), mkcert(), svgr(), dts()],
});
```

ìš°ì„  ì—¬ê¸°ê¹Œì§€ ê¸°ë³¸ ì„¸íŒ…ì„ ë§ˆì³¤ìŠµë‹ˆë‹¤. ì´í›„ì—ëŠ” styled-components ì ìš©í•˜ëŠ” ë²•(GlobalStyles, Theme)ê³¼ theme ìë™ì™„ì„± í•˜ëŠ”ë²•, ê·¸ë¦¬ê³  react-query ì‚¬ìš©ë²• ë“±ì„ ì •ë¦¬í•´ ì—…ë¡œë“œí•˜ë ¤ê³  í•©ë‹ˆë‹¤. ì´ ê¸€ì´ ë§ì€ ë„ì›€ì´ ë˜ì…¨ìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤ ğŸ˜„ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.
